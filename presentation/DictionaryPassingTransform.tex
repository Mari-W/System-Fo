\begin{code}[hide]%
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{SystemF}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{SystemFo}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Data.List}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaDatatype{List}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaInductiveConstructor{[]}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Data.Product}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaFunction{\AgdaUnderscore{}×\AgdaUnderscore{}}}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{\AgdaUnderscore{},\AgdaUnderscore{}}}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{Σ-syntax}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{∃-syntax}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Relation.Binary.PropositionalEquality}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaDatatype{\AgdaUnderscore{}≡\AgdaUnderscore{}}}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{cong₂}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{cong}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{trans}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{subst}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{sym}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaFunction{subst₂}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaKeyword{module}\AgdaSpace{}%
\AgdaModule{≡-Reasoning}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Data.List.Relation.Unary.Any}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{here}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaInductiveConstructor{there}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Data.Unit}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaRecord{⊤}\AgdaSymbol{;}\AgdaSpace{}%
\AgdaInductiveConstructor{tt}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaKeyword{import}\AgdaSpace{}%
\AgdaModule{Function}\AgdaSpace{}%
\AgdaKeyword{using}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{id}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaKeyword{open}\AgdaSpace{}%
\AgdaModule{≡-Reasoning}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{module}\AgdaSpace{}%
\AgdaModule{DictionaryPassingTransform}\AgdaSpace{}%
\AgdaKeyword{where}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaKeyword{module}\AgdaSpace{}%
\AgdaModule{Fᴼ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaModule{SystemFo}\<%
\\
\>[0]\AgdaKeyword{module}\AgdaSpace{}%
\AgdaModule{F}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaModule{SystemF}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaComment{--\ Translation\ --------------------------------------------------------------------------}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaComment{--\ Sorts\ }\<%
\end{code}
\newcommand{\DPTSort}[0]{\begin{code}%
\>[0]\AgdaFunction{s⇝s}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Sort}\AgdaSpace{}%
\AgdaInductiveConstructor{B}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaDatatype{F.Sort}\AgdaSpace{}%
\AgdaInductiveConstructor{B}\<%
\\
\>[0]\AgdaFunction{s⇝s}\AgdaSpace{}%
\AgdaInductiveConstructor{eₛ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{eₛ}\<%
\\
\>[0]\AgdaFunction{s⇝s}\AgdaSpace{}%
\AgdaInductiveConstructor{oₛ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{eₛ}\<%
\\
\>[0]\AgdaFunction{s⇝s}\AgdaSpace{}%
\AgdaInductiveConstructor{τₛ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{τₛ}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{Γ⇝S}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{F.Sorts}\<%
\\
\>[0]\AgdaFunction{Γ⇝S}%
\>[5]\AgdaInductiveConstructor{∅}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{[]}\<%
\\
\>[0]\AgdaFunction{Γ⇝S}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{Γ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{▸}}\AgdaSpace{}%
\AgdaBound{c}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{Γ⇝S}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{▷}}\AgdaSpace{}%
\AgdaInductiveConstructor{F.eₛ}\<%
\\
\>[0]\AgdaFunction{Γ⇝S}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{S}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{▷}}\AgdaSpace{}%
\AgdaBound{s}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{Γ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{▶}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{Γ⇝S}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{▷}}\AgdaSpace{}%
\AgdaFunction{s⇝s}\AgdaSpace{}%
\AgdaBound{s}\<%
\end{code}}
\begin{code}[hide]%
\>[0]\AgdaComment{--\ Variables}\<%
\end{code}
\newcommand{\DPTVar}[0]{\begin{code}%
\>[0]\AgdaFunction{x⇝x}\AgdaSpace{}%
\AgdaSymbol{:}%
\>[7]\AgdaSymbol{∀}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaFunction{Fᴼ.Var}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.s}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{F.Var}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Γ⇝S}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{s⇝s}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.s}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{x⇝x}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Γ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{▶}}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{here}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{here}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\<%
\\
\>[0]\AgdaFunction{x⇝x}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Γ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{▶}}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{there}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{there}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{x⇝x}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{x⇝x}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Γ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{▸}}\AgdaSpace{}%
\AgdaBound{c}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{there}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{x⇝x}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\<%
\end{code}}
\begin{code}[hide]%
\>[0]\AgdaComment{--\ Overloaded\ Variables}\<%
\end{code}
\newcommand{\DPTOVar}[0]{\begin{code}%
\>[0]\AgdaFunction{o⇝x}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{∀}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaOperator{\AgdaDatatype{[}}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.o}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{∶}}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.τ}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{]∈}}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaFunction{F.Var}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Γ⇝S}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaInductiveConstructor{F.eₛ}\<%
\\
\>[0]\AgdaFunction{o⇝x}\AgdaSpace{}%
\AgdaInductiveConstructor{here}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{here}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\<%
\\
\>[0]\AgdaFunction{o⇝x}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{under-bind}\AgdaSpace{}%
\AgdaBound{o∶τ∈Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{there}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{o⇝x}\AgdaSpace{}%
\AgdaBound{o∶τ∈Γ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{o⇝x}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{under-cstr}\AgdaSpace{}%
\AgdaBound{o∶τ∈Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{there}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{o⇝x}\AgdaSpace{}%
\AgdaBound{o∶τ∈Γ}\AgdaSymbol{)}\<%
\end{code}}
\begin{code}[hide]%
\>[0]\AgdaComment{--\ Types\ \ }\<%
\end{code}
\newcommand{\DPTType}[0]{\begin{code}%
\>[0]\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{∀}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaFunction{Fᴼ.Type}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
%
\>[2]\AgdaFunction{F.Type}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Γ⇝S}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaFunction{x⇝x}\AgdaSpace{}%
\AgdaBound{x}\<%
\\
\>[0]\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaInductiveConstructor{`⊤}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{`⊤}\<%
\\
\>[0]\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{τ₁}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{⇒}}\AgdaSpace{}%
\AgdaBound{τ₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ₁}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{⇒}}\AgdaSpace{}%
\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ₂}\<%
\\
\>[0]\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Γ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{Fᴼ.∀`α}}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{F.∀`α}}\AgdaSpace{}%
\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Γ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{▶}}\AgdaSpace{}%
\AgdaInductiveConstructor{⋆}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{τ}\<%
\\
\>[0]\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{[}}\AgdaSpace{}%
\AgdaBound{o}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{∶}}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{]⇒}}\AgdaSpace{}%
\AgdaBound{τ'}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{⇒}}\AgdaSpace{}%
\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ'}\<%
\end{code}}
\newcommand{\DPTKind}[0]{\begin{code}%
\>[0]\AgdaFunction{T⇝T}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{∀}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaDatatype{Fᴼ.Term}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Fᴼ.type-of}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.s}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
%
\>[2]\AgdaDatatype{F.Term}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Γ⇝S}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{F.type-of}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{s⇝s}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.s}\AgdaSymbol{))}\<%
\\
\>[0]\AgdaFunction{T⇝T}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{s}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{eₛ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ}\<%
\\
\>[0]\AgdaFunction{T⇝T}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{s}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{oₛ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ}\<%
\\
\>[0]\AgdaFunction{T⇝T}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{s}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{τₛ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{⋆}\<%
\end{code}}
\begin{code}[hide]%
\>[0]\AgdaComment{--\ Context\ }\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{I⇝T}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{∀}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Term}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{item-of}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.s}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaDatatype{F.Term}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Γ⇝S}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{F.type-of}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{s⇝s}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.s}\AgdaSymbol{))}\<%
\\
\>[0]\AgdaFunction{I⇝T}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{s}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{eₛ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ}\<%
\\
\>[0]\AgdaFunction{I⇝T}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{s}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{oₛ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaInductiveConstructor{⋆}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{`⊤}\<%
\\
\>[0]\AgdaFunction{I⇝T}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{s}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{τₛ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaInductiveConstructor{⋆}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{⋆}\<%
\end{code}
\newcommand{\DPTCtx}[0]{\begin{code}%
\>[0]\AgdaFunction{Γ⇝Γ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{Γ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaDatatype{F.Ctx}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Γ⇝S}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{Γ⇝Γ}\AgdaSpace{}%
\AgdaInductiveConstructor{∅}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{∅}\<%
\\
\>[0]\AgdaFunction{Γ⇝Γ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{Γ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{▶}}\AgdaSpace{}%
\AgdaBound{I}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Γ⇝Γ}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{▶}}\AgdaSpace{}%
\AgdaFunction{I⇝T}\AgdaSpace{}%
\AgdaBound{I}\<%
\\
\>[0]\AgdaFunction{Γ⇝Γ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{Γ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{▸}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaBound{o}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{∶}}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{))}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Γ⇝Γ}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{▶}}\AgdaSpace{}%
\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ}\<%
\end{code}}
\begin{code}[hide]%
\>[0]\AgdaComment{--\ Terms}\<%
\end{code}
\newcommand{\DPTTerms}[0]{\begin{code}%
\>[0]\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{∀}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{t}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Term}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.s}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{T}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Term}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Fᴼ.type-of}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.s}\AgdaSymbol{)\}}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaBound{Γ}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{Fᴼ.⊢}}\AgdaSpace{}%
\AgdaBound{t}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{∶}}\AgdaSpace{}%
\AgdaBound{T}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
%
\>[2]\AgdaDatatype{F.Term}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Γ⇝S}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{s⇝s}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.s}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢`x}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{x}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{Γx≡τ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaFunction{x⇝x}\AgdaSpace{}%
\AgdaBound{x}\<%
\\
\>[0]\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢`o}\AgdaSpace{}%
\AgdaBound{o∶τ∈Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaFunction{o⇝x}\AgdaSpace{}%
\AgdaBound{o∶τ∈Γ}\<%
\\
\>[0]\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaInductiveConstructor{⊢⊤}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{tt}\<%
\\
\>[0]\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢λ}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{λ`x→}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢Λ}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{Λ`α→}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢ƛ}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{λ`x→}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢·}\AgdaSpace{}%
\AgdaBound{⊢e₁}\AgdaSpace{}%
\AgdaBound{⊢e₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaBound{⊢e₁}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{·}}\AgdaSpace{}%
\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaBound{⊢e₂}\<%
\\
\>[0]\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢•}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{τ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{•}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢⊘}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSpace{}%
\AgdaBound{o∶τ∈Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{·}}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaFunction{o⇝x}\AgdaSpace{}%
\AgdaBound{o∶τ∈Γ}\<%
\\
\>[0]\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢let}\AgdaSpace{}%
\AgdaBound{⊢e₂}\AgdaSpace{}%
\AgdaBound{⊢e₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{let`x=}}\AgdaSpace{}%
\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaBound{⊢e₂}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{`in}}\AgdaSpace{}%
\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaBound{⊢e₁}\<%
\\
\>[0]\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢decl}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{let`x=}}\AgdaSpace{}%
\AgdaInductiveConstructor{tt}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{`in}}%
\>[33]\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaBound{⊢e}\<%
\\
\>[0]\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢inst}\AgdaSpace{}%
\AgdaBound{⊢e₂}\AgdaSpace{}%
\AgdaBound{⊢e₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{let`x=}}\AgdaSpace{}%
\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaBound{⊢e₂}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{`in}}\AgdaSpace{}%
\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaBound{⊢e₁}\<%
\end{code}}
\begin{code}[hide]%
\>[0]\AgdaComment{--\ Renaming\ }\<%
\end{code}
\newcommand{\DPTRen}[0]{\begin{code}%
\>[0]\AgdaFunction{⊢ρ⇝ρ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{∀}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{ρ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Fᴼ.Ren}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₁}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₁}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ₂}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaBound{ρ}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{Fᴼ.∶}}\AgdaSpace{}%
\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{⇒ᵣ}}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
%
\>[2]\AgdaFunction{F.Ren}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Γ⇝S}\AgdaSpace{}%
\AgdaBound{Γ₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Γ⇝S}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⊢ρ⇝ρ}\AgdaSpace{}%
\AgdaInductiveConstructor{⊢idᵣ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{id}\<%
\\
\>[0]\AgdaFunction{⊢ρ⇝ρ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢extᵣ}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{F.extᵣ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⊢ρ⇝ρ}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⊢ρ⇝ρ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢dropᵣ}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{F.dropᵣ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⊢ρ⇝ρ}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⊢ρ⇝ρ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢ext-cstrᵣ}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{F.extᵣ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⊢ρ⇝ρ}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⊢ρ⇝ρ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢drop-cstrᵣ}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{F.dropᵣ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⊢ρ⇝ρ}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSymbol{)}\<%
\end{code}}
\begin{code}[hide]%
\>[0]\AgdaComment{--\ Substititution}\<%
\end{code}
\newcommand{\DPTSub}[0]{\begin{code}%
\>[0]\AgdaFunction{⊢σ⇝σ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{∀}%
\>[10]\AgdaSymbol{\{}\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Fᴼ.Sub}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₁}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₁}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ₂}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaBound{σ}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{Fᴼ.∶}}\AgdaSpace{}%
\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{⇒ₛ}}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
%
\>[2]\AgdaFunction{F.Sub}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Γ⇝S}\AgdaSpace{}%
\AgdaBound{Γ₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Γ⇝S}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⊢σ⇝σ}\AgdaSpace{}%
\AgdaInductiveConstructor{⊢idₛ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{F.`\AgdaUnderscore{}}}\<%
\\
\>[0]\AgdaFunction{⊢σ⇝σ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢extₛ}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{F.extₛ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⊢σ⇝σ}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⊢σ⇝σ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢dropₛ}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{F.dropₛ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⊢σ⇝σ}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⊢σ⇝σ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢single-typeₛ}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{τ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{F.singleₛ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⊢σ⇝σ}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⊢σ⇝σ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢ext-cstrₛ}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{F.extₛ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⊢σ⇝σ}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⊢σ⇝σ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢drop-cstrₛ}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{F.dropₛ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⊢σ⇝σ}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSymbol{)}\<%
\end{code}}
\begin{code}[hide]%
\>[0]\AgdaComment{--\ Type\ Preservation\ --------------------------------------------------------------------}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaComment{--\ Renaming}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{⇝-dist-ren-var-type}\AgdaSpace{}%
\AgdaSymbol{:}%
\>[18]\AgdaSymbol{\{}\AgdaBound{ρ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Fᴼ.Ren}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₁}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₁}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ₂}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{(}\AgdaBound{⊢ρ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{Fᴼ.∶}}\AgdaSpace{}%
\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{⇒ᵣ}}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
%
\>[2]\AgdaSymbol{(}\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Fᴼ.Var}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₁}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.s}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\end{code}
\newcommand{\DPTVarPresRen}[0]{\begin{code}%
%
\>[2]\AgdaSymbol{(}\AgdaFunction{⊢ρ⇝ρ}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{x⇝x}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{≡}}\AgdaSpace{}%
\AgdaFunction{x⇝x}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{ρ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\<%
\end{code}}
\begin{code}[hide]%
\>[0]\AgdaFunction{⇝-dist-ren-var-type}\AgdaSpace{}%
\AgdaInductiveConstructor{⊢idᵣ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\<%
\\
\>[0]\AgdaFunction{⇝-dist-ren-var-type}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢extᵣ}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{here}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\<%
\\
\>[0]\AgdaFunction{⇝-dist-ren-var-type}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢extᵣ}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{there}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{cong}\AgdaSpace{}%
\AgdaInductiveConstructor{there}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-var-type}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⇝-dist-ren-var-type}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢dropᵣ}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{cong}\AgdaSpace{}%
\AgdaInductiveConstructor{there}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-var-type}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⇝-dist-ren-var-type}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢ext-cstrᵣ}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{cong}\AgdaSpace{}%
\AgdaInductiveConstructor{there}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-var-type}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⇝-dist-ren-var-type}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢drop-cstrᵣ}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{cong}\AgdaSpace{}%
\AgdaInductiveConstructor{there}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-var-type}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaSymbol{:}%
\>[18]\AgdaSymbol{\{}\AgdaBound{ρ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Fᴼ.Ren}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₁}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₁}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ₂}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{(}\AgdaBound{⊢ρ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{Fᴼ.∶}}\AgdaSpace{}%
\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{⇒ᵣ}}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
%
\>[2]\AgdaSymbol{(}\AgdaBound{τ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Fᴼ.Type}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\end{code}
\newcommand{\DPTTypePresRen}[0]{\begin{code}[inline]%
%
\>[2]\AgdaFunction{F.ren}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⊢ρ⇝ρ}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{≡}}\AgdaSpace{}%
\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Fᴼ.ren}\AgdaSpace{}%
\AgdaBound{ρ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\<%
\end{code}}
\begin{code}[hide]%
\>[0]\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{cong}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{`\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-var-type}%
\>[51]\AgdaBound{⊢ρ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSpace{}%
\AgdaInductiveConstructor{`⊤}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\<%
\\
\>[0]\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{τ₁}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{⇒}}\AgdaSpace{}%
\AgdaBound{τ₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{cong₂}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{\AgdaUnderscore{}⇒\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSpace{}%
\AgdaBound{τ₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSpace{}%
\AgdaBound{τ₂}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{∀`α}}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{cong}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{F.∀`α\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢extᵣ}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{[}}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaBound{o}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{∶}}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{]⇒}}\AgdaSpace{}%
\AgdaBound{τ'}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{cong₂}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{\AgdaUnderscore{}⇒\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaBound{⊢ρ}\AgdaSpace{}%
\AgdaBound{τ'}\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{⇝-dist-wk}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{τ'}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Fᴼ.Type}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{I}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Term}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{item-of}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.s}\AgdaSymbol{)\}}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\end{code}
\newcommand{\DPTTypePresWk}[0]{\begin{code}[inline]%
\>[0][@{}l@{\AgdaIndent{1}}]%
\>[2]\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Γ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{▶}}\AgdaSpace{}%
\AgdaBound{I}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Fᴼ.wk}\AgdaSpace{}%
\AgdaBound{τ'}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{≡}}\AgdaSpace{}%
\AgdaFunction{F.wk}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ'}\AgdaSymbol{)}\<%
\end{code}}
\begin{code}[hide]%
\>[0]\AgdaFunction{⇝-dist-wk}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{τ'}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{τ'}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{sym}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaFunction{Fᴼ.⊢wkᵣ}\AgdaSpace{}%
\AgdaBound{τ'}\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{τ⇝wk-inst·τ≡wk-inst·τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{∀}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{τ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Fᴼ.Type}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{τ'}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Fᴼ.Type}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{o}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\end{code}
\newcommand{\DPTTypePresWkInst}[0]{\begin{code}[inline]%
\>[0][@{}l@{\AgdaIndent{1}}]%
\>[2]\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Γ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{▸}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaBound{o}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{∶}}\AgdaSpace{}%
\AgdaBound{τ'}\AgdaSymbol{)\}}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{≡}}\AgdaSpace{}%
\AgdaFunction{F.wk}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\<%
\end{code}}
\begin{code}[hide]%
\>[0]\AgdaFunction{τ⇝wk-inst·τ≡wk-inst·τ⇝τ}%
\>[25]\AgdaSymbol{\{}\AgdaArgument{τ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{=}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaOperator{\AgdaFunction{begin}}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ}\<%
\\
%
\>[2]\AgdaFunction{≡⟨}\AgdaSpace{}%
\AgdaFunction{cong}\AgdaSpace{}%
\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{sym}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{idᵣτ≡τ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{))}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Fᴼ.ren}\AgdaSpace{}%
\AgdaFunction{Fᴼ.idᵣ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaFunction{≡⟨}\AgdaSpace{}%
\AgdaFunction{sym}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaFunction{⊢wk-cstrᵣ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaFunction{F.wk}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaOperator{\AgdaFunction{∎}}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaComment{--\ Substititution}\<%
\end{code}
\newcommand{\DPTVarPresSub}[0]{\begin{code}%
\>[0]\AgdaFunction{⇝-dist-ren-type}%
\>[16]\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Fᴼ.Sub}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₁}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₁}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ₂}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{(}\AgdaBound{⊢σ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{Fᴼ.∶}}\AgdaSpace{}%
\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{⇒ₛ}}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
%
\>[2]\AgdaSymbol{(}\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Fᴼ.Var}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₁}\AgdaSpace{}%
\AgdaInductiveConstructor{τₛ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
%
\>[2]\AgdaFunction{F.sub}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⊢σ⇝σ}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaFunction{x⇝x}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{≡}}\AgdaSpace{}%
\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Fᴼ.sub}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{))}\<%
\\
\>[0]\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaInductiveConstructor{⊢idₛ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\<%
\\
\>[0]\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢extₛ}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{here}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\<%
\\
\>[0]\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢extₛ}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{σ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{there}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{trans}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{(}\AgdaFunction{cong}\AgdaSpace{}%
\AgdaFunction{F.wk}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{))}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaFunction{Fᴼ.⊢wkᵣ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{))}\<%
\\
\>[0]\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢dropₛ}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{σ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{x}%
\>[38]\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{trans}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{(}\AgdaFunction{cong}\AgdaSpace{}%
\AgdaFunction{F.wk}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{))}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaFunction{Fᴼ.⊢wkᵣ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{))}\<%
\\
\>[0]\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢single-typeₛ}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{here}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\<%
\\
\>[0]\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢single-typeₛ}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{there}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSpace{}%
\AgdaBound{x}\<%
\\
\>[0]\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢ext-cstrₛ}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{σ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{trans}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{cong}\AgdaSpace{}%
\AgdaFunction{F.wk}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{))}\AgdaSpace{}%
\AgdaSymbol{(}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[3]\AgdaOperator{\AgdaFunction{begin}}\<%
\\
\>[3][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaFunction{F.wk}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{))}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaFunction{≡⟨}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaFunction{⊢wk-cstrᵣ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{))}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Fᴼ.ren}\AgdaSpace{}%
\AgdaFunction{Fᴼ.idᵣ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{))}\<%
\\
%
\>[2]\AgdaFunction{≡⟨}\AgdaSpace{}%
\AgdaFunction{cong}\AgdaSpace{}%
\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{idᵣτ≡τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{))}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaOperator{\AgdaFunction{∎}}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⇝-dist-ren-type}\AgdaSymbol{(}\AgdaInductiveConstructor{⊢drop-cstrₛ}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{σ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{trans}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{cong}\AgdaSpace{}%
\AgdaFunction{F.wk}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{))}\AgdaSpace{}%
\AgdaSymbol{(}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[3]\AgdaOperator{\AgdaFunction{begin}}\<%
\\
\>[3][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaFunction{F.wk}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{))}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaFunction{≡⟨}\AgdaSpace{}%
\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaFunction{⊢wk-cstrᵣ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Fᴼ.ren}\AgdaSpace{}%
\AgdaFunction{Fᴼ.idᵣ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{))}\<%
\\
%
\>[2]\AgdaFunction{≡⟨}\AgdaSpace{}%
\AgdaFunction{cong}\AgdaSpace{}%
\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{idᵣτ≡τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{))}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{σ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaOperator{\AgdaFunction{∎}}\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{∀}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{σ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Fᴼ.Sub}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₁}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₁}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ₂}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₂}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{(}\AgdaBound{⊢σ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{Fᴼ.∶}}\AgdaSpace{}%
\AgdaBound{Γ₁}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{⇒ₛ}}\AgdaSpace{}%
\AgdaBound{Γ₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
%
\>[2]\AgdaSymbol{(}\AgdaBound{τ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Fᴼ.Type}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\end{code}}
\newcommand{\DPTTypePresSub}[0]{\begin{code}[inline]%
%
\>[2]\AgdaFunction{F.sub}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⊢σ⇝σ}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{≡}}\AgdaSpace{}%
\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Fᴼ.sub}\AgdaSpace{}%
\AgdaBound{σ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\<%
\end{code}}
\begin{code}[hide]%
\>[0]\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSpace{}%
\AgdaBound{x}\<%
\\
\>[0]\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSpace{}%
\AgdaInductiveConstructor{`⊤}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\<%
\\
\>[0]\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{τ₁}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{⇒}}\AgdaSpace{}%
\AgdaBound{τ₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{cong₂}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{\AgdaUnderscore{}⇒\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSpace{}%
\AgdaBound{τ₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-type}%
\>[80]\AgdaBound{⊢σ}\AgdaSpace{}%
\AgdaBound{τ₂}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{∀`α}}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{cong}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{F.∀`α\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢extₛ}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{[}}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaBound{o}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{∶}}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{]⇒}}\AgdaSpace{}%
\AgdaBound{τ'}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{cong₂}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{\AgdaUnderscore{}⇒\AgdaUnderscore{}}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaBound{⊢σ}\AgdaSpace{}%
\AgdaBound{τ'}\AgdaSymbol{)}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaFunction{⇝-dist-τ[τ']}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₁}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{τ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Fᴼ.Type}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{τ'}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Fᴼ.Type}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaGeneralizable{Fᴼ.S₁}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{▷}}\AgdaSpace{}%
\AgdaInductiveConstructor{τₛ}\AgdaSymbol{))}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{(}\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Γ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{▶}}\AgdaSpace{}%
\AgdaInductiveConstructor{⋆}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{τ'}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{F.[}}\AgdaSpace{}%
\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{≡}}\AgdaSpace{}%
\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{τ'}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{Fᴼ.[}}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSpace{}%
\AgdaOperator{\AgdaFunction{]}}\AgdaSymbol{)}\<%
\end{code}
\newcommand{\DPTTypePresSingleSub}[0]{\begin{code}%
\>[0]\AgdaFunction{⇝-dist-τ[τ']}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSpace{}%
\AgdaBound{τ'}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaFunction{⊢single-typeₛ}\AgdaSpace{}%
\AgdaBound{τ'}\<%
\end{code}}
\begin{code}[hide]%
\>[0]\AgdaComment{--\ Type\ Preserving\ Translation\ ----------------------------------------------------------}\<%
\\
%
\\[\AgdaEmptyExtraSkip]%
\>[0]\AgdaComment{--\ Variables}\<%
\end{code}
\newcommand{\DPTVarPresLookup}[0]{\begin{code}%
\>[0]\AgdaFunction{⇝-pres-lookup}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{∀}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{τ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Fᴼ.Type}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{x}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaFunction{Fᴼ.Var}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSpace{}%
\AgdaInductiveConstructor{eₛ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaFunction{Fᴼ.lookup}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{≡}}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
%
\>[2]\AgdaFunction{F.lookup}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Γ⇝Γ}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{x⇝x}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{≡}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⇝-pres-lookup}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Γ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{▶}}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{here}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaFunction{Fᴼ.⊢wkᵣ}\AgdaSpace{}%
\AgdaBound{τ}\<%
\\
\>[0]\AgdaFunction{⇝-pres-lookup}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Γ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{▶}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{τ'}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{there}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{trans}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{(}\AgdaFunction{cong}\AgdaSpace{}%
\AgdaFunction{F.wk}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-pres-lookup}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\AgdaSymbol{))}\<%
\\
%
\>[2]\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaFunction{Fᴼ.⊢wkᵣ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Fᴼ.lookup}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{))}\<%
\\
\>[0]\AgdaFunction{⇝-pres-lookup}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Γ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{▸}}\AgdaSpace{}%
\AgdaBound{c}\AgdaSymbol{@(}\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaBound{o}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{∶}}\AgdaSpace{}%
\AgdaBound{τ'}\AgdaSymbol{)\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{τ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\AgdaSpace{}%
\AgdaSymbol{=}%
\>[47]\AgdaSymbol{(}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaOperator{\AgdaFunction{begin}}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaFunction{F.wk}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{F.lookup}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Γ⇝Γ}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{x⇝x}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{))}\<%
\\
%
\>[2]\AgdaFunction{≡⟨}\AgdaSpace{}%
\AgdaFunction{cong}\AgdaSpace{}%
\AgdaFunction{F.wk}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-pres-lookup}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaFunction{F.wk}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaFunction{≡⟨}\AgdaSpace{}%
\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaFunction{⊢wk-cstrᵣ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Fᴼ.ren}\AgdaSpace{}%
\AgdaFunction{Fᴼ.idᵣ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaFunction{≡⟨}\AgdaSpace{}%
\AgdaFunction{cong}\AgdaSpace{}%
\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{idᵣτ≡τ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ}\<%
\\
%
\>[2]\AgdaOperator{\AgdaFunction{∎}}\AgdaSymbol{)}\<%
\end{code}}
\newcommand{\DPTOVarPresLookup}[0]{\begin{code}%
\>[0]\AgdaFunction{⇝-pres-cstr-solve}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{∀}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{→}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaBound{o∶τ∈Γ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{[}}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.o}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{∶}}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.τ}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{]∈}}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaFunction{F.lookup}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Γ⇝Γ}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{o⇝x}\AgdaSpace{}%
\AgdaBound{o∶τ∈Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{≡}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.τ}\AgdaSymbol{)}\<%
\end{code}}
\begin{code}[hide]%
\>[0]\AgdaComment{--\ TODO\ REMOVE\ \textasciicircum{}\textasciicircum{}\textasciicircum{}\textasciicircum{}}\<%
\\
\>[0]\AgdaFunction{⇝-pres-cstr-solve}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{τ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Γ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{Fᴼ.▸}}\AgdaSpace{}%
\AgdaBound{c}\AgdaSymbol{@(}\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaBound{o}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{∶}}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)\}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{here}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Γ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSymbol{\})}\AgdaSpace{}%
\AgdaSymbol{=}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaOperator{\AgdaFunction{begin}}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaFunction{F.lookup}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Γ⇝Γ}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{▶}}\AgdaSpace{}%
\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{here}\AgdaSpace{}%
\AgdaInductiveConstructor{refl}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaFunction{≡⟨}\AgdaSpace{}%
\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaFunction{⊢wk-cstrᵣ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Fᴼ.ren}\AgdaSpace{}%
\AgdaFunction{Fᴼ.idᵣ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaFunction{≡⟨}\AgdaSpace{}%
\AgdaFunction{cong}\AgdaSpace{}%
\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{idᵣτ≡τ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ}\<%
\\
%
\>[2]\AgdaOperator{\AgdaFunction{∎}}\<%
\\
\>[0]\AgdaFunction{⇝-pres-cstr-solve}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Γ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{▶}}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}\}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{under-bind}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{τ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{trans}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{(}\AgdaFunction{cong}\AgdaSpace{}%
\AgdaFunction{F.wk}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-pres-cstr-solve}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{))}\<%
\\
%
\>[2]\AgdaSymbol{(}\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaFunction{Fᴼ.⊢wkᵣ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⇝-pres-cstr-solve}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{τ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Γ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{▸}}\AgdaSpace{}%
\AgdaBound{c}\AgdaSymbol{@(}\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaBound{o}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{∶}}\AgdaSpace{}%
\AgdaBound{τ'}\AgdaSymbol{)\}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{under-cstr}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{c'}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaSymbol{\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{∶}}\AgdaSpace{}%
\AgdaBound{τ'}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{o∶τ∈Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaOperator{\AgdaFunction{begin}}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaFunction{F.wk}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{F.lookup}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Γ⇝Γ}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{o⇝x}\AgdaSpace{}%
\AgdaBound{o∶τ∈Γ}\AgdaSymbol{))}\<%
\\
%
\>[2]\AgdaFunction{≡⟨}\AgdaSpace{}%
\AgdaFunction{cong}\AgdaSpace{}%
\AgdaFunction{F.wk}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-pres-cstr-solve}\AgdaSpace{}%
\AgdaBound{o∶τ∈Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaFunction{F.wk}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaFunction{≡⟨}\AgdaSpace{}%
\AgdaFunction{⇝-dist-ren-type}\AgdaSpace{}%
\AgdaFunction{⊢wk-cstrᵣ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Fᴼ.ren}\AgdaSpace{}%
\AgdaFunction{Fᴼ.idᵣ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaFunction{≡⟨}\AgdaSpace{}%
\AgdaFunction{cong}\AgdaSpace{}%
\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{idᵣτ≡τ}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaFunction{⟩}\<%
\\
\>[2][@{}l@{\AgdaIndent{0}}]%
\>[4]\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ}\<%
\\
%
\>[2]\AgdaOperator{\AgdaFunction{∎}}\<%
\end{code}
\begin{code}[hide]%
\>[0]\AgdaComment{--\ Terms}\<%
\end{code}
\newcommand{\DPTTermPres}[0]{\begin{code}%
\>[0]\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{Γ}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Ctx}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{t}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Term}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.s}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaBound{T}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaDatatype{Fᴼ.Term}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.S}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{Fᴼ.type-of}\AgdaSpace{}%
\AgdaGeneralizable{Fᴼ.s}\AgdaSymbol{)\}}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{(}\AgdaBound{⊢t}\AgdaSpace{}%
\AgdaSymbol{:}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{Fᴼ.⊢}}\AgdaSpace{}%
\AgdaBound{t}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{∶}}\AgdaSpace{}%
\AgdaBound{T}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{→}\<%
\\
%
\>[2]\AgdaSymbol{(}\AgdaFunction{Γ⇝Γ}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{F.⊢}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaBound{⊢t}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{∶}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{T⇝T}\AgdaSpace{}%
\AgdaBound{T}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢`o}\AgdaSpace{}%
\AgdaBound{o∶τ∈Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{⊢`x}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-pres-cstr-solve}\AgdaSpace{}%
\AgdaBound{o∶τ∈Γ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢ƛ}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{c}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaOperator{\AgdaInductiveConstructor{`}}\AgdaSpace{}%
\AgdaBound{o}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{∶}}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{)\}}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{⊢λ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{subst}\AgdaSpace{}%
\AgdaSymbol{(\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{F.⊢}}\AgdaSpace{}%
\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{∶\AgdaUnderscore{}}}\AgdaSymbol{)}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaFunction{τ⇝wk-inst·τ≡wk-inst·τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSymbol{))}\<%
\\
\>[0]\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢⊘}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSpace{}%
\AgdaBound{o∶τ∈Γ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{⊢·}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢`x}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-pres-cstr-solve}\AgdaSpace{}%
\AgdaBound{o∶τ∈Γ}\AgdaSymbol{))}\<%
\\
\>[0]\AgdaComment{--\ ...}\<%
\end{code}}
\begin{code}[hide]%
\>[0]\AgdaComment{--\ TODO\ REORDER\ \textasciicircum{}\textasciicircum{}\textasciicircum{}}\<%
\\
\>[0]\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{Γ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{Γ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢`x}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{x}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{x}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{Γxᴼ≡τ}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{⊢`x}%
\>[41]\AgdaSymbol{(}\AgdaFunction{⇝-pres-lookup}\AgdaSpace{}%
\AgdaBound{x}\AgdaSpace{}%
\AgdaBound{Γxᴼ≡τ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaInductiveConstructor{⊢⊤}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{⊢⊤}\<%
\\
\>[0]\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢λ}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{τ'}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{τ'}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{⊢λ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{subst}\AgdaSpace{}%
\AgdaSymbol{(\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{F.⊢}}\AgdaSpace{}%
\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{∶\AgdaUnderscore{}}}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaFunction{⇝-dist-wk}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSymbol{))}\<%
\\
\>[0]\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢Λ}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{⊢Λ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢·}\AgdaSpace{}%
\AgdaBound{⊢e₁}\AgdaSpace{}%
\AgdaBound{⊢e₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{⊢·}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaBound{⊢e₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaBound{⊢e₂}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢•}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{τ'}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{τ'}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{τ}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaFunction{subst}\AgdaSpace{}%
\AgdaSymbol{(\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{F.⊢}}%
\>[48]\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSpace{}%
\AgdaOperator{\AgdaInductiveConstructor{•}}\AgdaSpace{}%
\AgdaFunction{τ⇝τ}\AgdaSpace{}%
\AgdaBound{τ}%
\>[65]\AgdaOperator{\AgdaDatatype{∶\AgdaUnderscore{}}}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-dist-τ[τ']}\AgdaSpace{}%
\AgdaBound{τ}\AgdaSpace{}%
\AgdaBound{τ'}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢•}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSymbol{))}\<%
\\
\>[0]\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢let}\AgdaSpace{}%
\AgdaBound{⊢e₂}\AgdaSpace{}%
\AgdaBound{⊢e₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{⊢let}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaBound{⊢e₂}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{subst}\AgdaSpace{}%
\AgdaSymbol{(\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{F.⊢}}\AgdaSpace{}%
\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaBound{⊢e₁}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{∶\AgdaUnderscore{}}}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaFunction{⇝-dist-wk}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaBound{⊢e₁}\AgdaSymbol{))}\<%
\\
\>[0]\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢decl}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{⊢let}\AgdaSpace{}%
\AgdaInductiveConstructor{⊢⊤}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{subst}\AgdaSpace{}%
\AgdaSymbol{(\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{F.⊢}}\AgdaSpace{}%
\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{∶\AgdaUnderscore{}}}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaFunction{⇝-dist-wk}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaBound{⊢e}\AgdaSymbol{))}\<%
\\
\>[0]\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaInductiveConstructor{⊢inst}\AgdaSpace{}%
\AgdaSymbol{\{}\AgdaArgument{o}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaBound{o}\AgdaSymbol{\}}\AgdaSpace{}%
\AgdaBound{⊢e₂}\AgdaSpace{}%
\AgdaBound{⊢e₁}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaSymbol{=}\AgdaSpace{}%
\AgdaInductiveConstructor{⊢let}\<%
\\
\>[0][@{}l@{\AgdaIndent{0}}]%
\>[2]\AgdaSymbol{(}\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaBound{⊢e₂}\AgdaSymbol{)}\<%
\\
%
\>[2]\AgdaSymbol{(}\AgdaFunction{subst}\AgdaSpace{}%
\AgdaSymbol{(\AgdaUnderscore{}}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{F.⊢}}\AgdaSpace{}%
\AgdaFunction{⊢t⇝t}\AgdaSpace{}%
\AgdaBound{⊢e₁}\AgdaSpace{}%
\AgdaOperator{\AgdaDatatype{∶\AgdaUnderscore{}}}\AgdaSymbol{)}\AgdaSpace{}%
\AgdaFunction{τ⇝wk-inst·τ≡wk-inst·τ⇝τ}\AgdaSpace{}%
\AgdaSymbol{(}\AgdaFunction{⇝-pres-⊢}\AgdaSpace{}%
\AgdaBound{⊢e₁}\AgdaSymbol{))}\<%
\end{code}
